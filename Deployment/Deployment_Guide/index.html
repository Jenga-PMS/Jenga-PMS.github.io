
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Jenga is a free, open-source project management and issue tracking tool, featuring an integrated AI agent" name="description"/>
<link href="https://jenga-pms.github.io/Deployment/Deployment_Guide/" rel="canonical"/>
<link href="../../installation/BuildFrontend/" rel="prev"/>
<link href="../../architecture/" rel="next"/>
<link href="../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.7.1" name="generator"/>
<title>Deployment Guide - Jenga</title>
<link href="../../assets/stylesheets/main.484c7ddc.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.ab4e12ef.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="indigo" data-md-color-primary="indigo" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#jenga-application-deployment-guide">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Jenga" class="md-header__button md-logo" data-md-component="logo" href="../.." title="Jenga">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Jenga
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Deployment Guide
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5"></path></svg>
</label>
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"></path></svg>
</label>
<input aria-label="Switch to system preference" class="md-option" data-md-color-accent="indigo" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="black" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to system preference">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/Jenga-PMS/Jenga" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        
  
  
    
  
  Jenga

      </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../../installation/">
          
  
  
    
  
  Installation

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../architecture/">
          
  
  
    
  
  Architecture

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../about/">
        
  
  
    
  
  About

      </a>
</li>
</ul>
</div>
</nav>
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Jenga" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="Jenga">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>
</a>
    Jenga
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/Jenga-PMS/Jenga" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"></path></svg>
</div>
<div class="md-source__repository">
    GitHub
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    
  
    Jenga
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../installation/">
<span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="true" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Installation
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../installation/DockerBuild/">
<span class="md-ellipsis">
    
  
    Build using Docker
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../installation/BuildBackend/">
<span class="md-ellipsis">
    
  
    Build Backend
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../installation/BuildFrontend/">
<span class="md-ellipsis">
    
  
    Build Frontend
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    
  
    Deployment Guide
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    
  
    Deployment Guide
  

    
  </span>
</a>
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-what-does-this-system-do">
<span class="md-ellipsis">
      
        1. What Does This System Do?
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-prerequisites">
<span class="md-ellipsis">
      
        2. Prerequisites
      
    </span>
</a>
<nav aria-label="2. Prerequisites" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#21-docker-desktop">
<span class="md-ellipsis">
      
        2.1 Docker Desktop
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#22-git-optional-but-recommended">
<span class="md-ellipsis">
      
        2.2 Git (Optional but Recommended)
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#23-a-text-editor">
<span class="md-ellipsis">
      
        2.3 A Text Editor
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#24-terminal-command-prompt">
<span class="md-ellipsis">
      
        2.4 Terminal / Command Prompt
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-required-project-file-structure">
<span class="md-ellipsis">
      
        3. Required Project File Structure
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-configuring-the-backend-environment-file">
<span class="md-ellipsis">
      
        4. Configuring the Backend Environment File
      
    </span>
</a>
<nav aria-label="4. Configuring the Backend Environment File" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#41-environment-file-template">
<span class="md-ellipsis">
      
        4.1 Environment File Template
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#42-environment-variable-reference">
<span class="md-ellipsis">
      
        4.2 Environment Variable Reference
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-database-initialization">
<span class="md-ellipsis">
      
        5. Database Initialization
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-deploying-the-application">
<span class="md-ellipsis">
      
        6. Deploying the Application
      
    </span>
</a>
<nav aria-label="6. Deploying the Application" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#61-first-time-setup">
<span class="md-ellipsis">
      
        6.1 First-Time Setup
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#62-starting-in-background-mode">
<span class="md-ellipsis">
      
        6.2 Starting in Background Mode
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#63-accessing-the-services">
<span class="md-ellipsis">
      
        6.3 Accessing the Services
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#7-stopping-and-managing-the-application">
<span class="md-ellipsis">
      
        7. Stopping and Managing the Application
      
    </span>
</a>
<nav aria-label="7. Stopping and Managing the Application" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#71-stop-the-application-keep-data">
<span class="md-ellipsis">
      
        7.1 Stop the Application (Keep Data)
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#72-stop-and-remove-all-data">
<span class="md-ellipsis">
      
        7.2 Stop and Remove All Data
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#73-view-running-containers">
<span class="md-ellipsis">
      
        7.3 View Running Containers
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#74-view-logs">
<span class="md-ellipsis">
      
        7.4 View Logs
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#75-restart-a-single-service">
<span class="md-ellipsis">
      
        7.5 Restart a Single Service
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#8-troubleshooting">
<span class="md-ellipsis">
      
        8. Troubleshooting
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#9-security-notes-for-production">
<span class="md-ellipsis">
      
        9. Security Notes for Production
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#10-quick-reference-card">
<span class="md-ellipsis">
      
        10. Quick Reference Card
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#11-technical-reference-dockerfile-internals">
<span class="md-ellipsis">
      
        11. Technical Reference — Dockerfile Internals
      
    </span>
</a>
<nav aria-label="11. Technical Reference — Dockerfile Internals" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#111-frontend-dockerfile-frontendjengadockerfilecurrent">
<span class="md-ellipsis">
      
        11.1 Frontend Dockerfile (frontend/jenga/Dockerfile.current)
      
    </span>
</a>
<nav aria-label="11.1 Frontend Dockerfile (frontend/jenga/Dockerfile.current)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#stage-1-build-nodejs-20-alpine">
<span class="md-ellipsis">
      
        Stage 1 — Build (Node.js 20 Alpine)
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#stage-2-runtime-nginx-127-alpine">
<span class="md-ellipsis">
      
        Stage 2 — Runtime (nginx 1.27 Alpine)
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#key-design-points">
<span class="md-ellipsis">
      
        Key Design Points
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#112-backend-dockerfile-backenddockerfiledev">
<span class="md-ellipsis">
      
        11.2 Backend Dockerfile (backend/Dockerfile.dev)
      
    </span>
</a>
<nav aria-label="11.2 Backend Dockerfile (backend/Dockerfile.dev)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#stage-1-build-maven-39-eclipse-temurin-jdk-21">
<span class="md-ellipsis">
      
        Stage 1 — Build (Maven 3.9 + Eclipse Temurin JDK 21)
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#stage-2-runtime-eclipse-temurin-jre-21">
<span class="md-ellipsis">
      
        Stage 2 — Runtime (Eclipse Temurin JRE 21)
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#key-design-points_1">
<span class="md-ellipsis">
      
        Key Design Points
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<div class="md-nav__link md-nav__container">
<a class="md-nav__link" href="../../architecture/">
<span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
</a>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
<span class="md-nav__icon md-icon"></span>
</label>
</div>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Architecture
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Backend
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_2">
<span class="md-nav__icon md-icon"></span>
            
  
    Backend
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/backend/overview/">
<span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/backend/architecture/">
<span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/backend/data_models/">
<span class="md-ellipsis">
    
  
    Data Models
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/backend/authentication/">
<span class="md-ellipsis">
    
  
    Authentication
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/backend/limitations/">
<span class="md-ellipsis">
    
  
    Limitations
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/backend/api/">
<span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Frontend
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Frontend
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/frontend/">
<span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/frontend/walkthrough/">
<span class="md-ellipsis">
    
  
    Web App Walkthrough
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/frontend/system_design/">
<span class="md-ellipsis">
    
  
    System Design
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/frontend/state_data_flow/">
<span class="md-ellipsis">
    
  
    State and Data Flow
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/frontend/api_integration/">
<span class="md-ellipsis">
    
  
    API Integration
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/frontend/testing/">
<span class="md-ellipsis">
    
  
    Testing
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/frontend/ui_i18n_pwa/">
<span class="md-ellipsis">
    
  
    UI and PWA
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/frontend/i18n/">
<span class="md-ellipsis">
    
  
    Internationalization (i18n)
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/frontend/guided_tour/">
<span class="md-ellipsis">
    
  
    Guided Tour
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/deployment/">
<span class="md-ellipsis">
    
  
    Deployment
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
<span class="md-ellipsis">
    
  
    AI Agent
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_5">
<span class="md-nav__icon md-icon"></span>
            
  
    AI Agent
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/ai/overview/">
<span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/ai/technology_stack/">
<span class="md-ellipsis">
    
  
    Technology Stack
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_5_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5_3" id="__nav_3_5_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_3_label" class="md-nav" data-md-level="3">
<label class="md-nav__title" for="__nav_3_5_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Architecture
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/ai/architecture/">
<span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/ai/architecture/Tools/">
<span class="md-ellipsis">
    
  
    Tools
  

    
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3_5_3_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_5_3_3" id="__nav_3_5_3_3_label" tabindex="0">
<span class="md-ellipsis">
    
  
    Endpoints
  

    
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_5_3_3_label" class="md-nav" data-md-level="4">
<label class="md-nav__title" for="__nav_3_5_3_3">
<span class="md-nav__icon md-icon"></span>
            
  
    Endpoints
  

          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/ai/architecture/endpoints/chat/">
<span class="md-ellipsis">
    
  
    Chat Endpoint
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/ai/architecture/endpoints/sessions/">
<span class="md-ellipsis">
    
  
    Get Sessions
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/ai/architecture/endpoints/messages/">
<span class="md-ellipsis">
    
  
    Get Session Messages
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/ai/examples/">
<span class="md-ellipsis">
    
  
    Examples
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/ai/configuration/">
<span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/ai/setup/">
<span class="md-ellipsis">
    
  
    Setup
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/ai/github_import/">
<span class="md-ellipsis">
    
  
    GitHub Import
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/ai/problems/">
<span class="md-ellipsis">
    
  
    Problems
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/ai/ai_usage/">
<span class="md-ellipsis">
    
  
    AI Usage
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/ai/teamwork%26projectstructure/">
<span class="md-ellipsis">
    
  
    Teamwork &amp; Project Structure
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/SonarQube/SonarQube/">
<span class="md-ellipsis">
    
  
    SonarQube
  

    
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../architecture/documentation/">
<span class="md-ellipsis">
    
  
    Documentation
  

    
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../about/">
<span class="md-ellipsis">
    
  
    About
  

    
  </span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-what-does-this-system-do">
<span class="md-ellipsis">
      
        1. What Does This System Do?
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-prerequisites">
<span class="md-ellipsis">
      
        2. Prerequisites
      
    </span>
</a>
<nav aria-label="2. Prerequisites" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#21-docker-desktop">
<span class="md-ellipsis">
      
        2.1 Docker Desktop
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#22-git-optional-but-recommended">
<span class="md-ellipsis">
      
        2.2 Git (Optional but Recommended)
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#23-a-text-editor">
<span class="md-ellipsis">
      
        2.3 A Text Editor
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#24-terminal-command-prompt">
<span class="md-ellipsis">
      
        2.4 Terminal / Command Prompt
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#3-required-project-file-structure">
<span class="md-ellipsis">
      
        3. Required Project File Structure
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#4-configuring-the-backend-environment-file">
<span class="md-ellipsis">
      
        4. Configuring the Backend Environment File
      
    </span>
</a>
<nav aria-label="4. Configuring the Backend Environment File" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#41-environment-file-template">
<span class="md-ellipsis">
      
        4.1 Environment File Template
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#42-environment-variable-reference">
<span class="md-ellipsis">
      
        4.2 Environment Variable Reference
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#5-database-initialization">
<span class="md-ellipsis">
      
        5. Database Initialization
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#6-deploying-the-application">
<span class="md-ellipsis">
      
        6. Deploying the Application
      
    </span>
</a>
<nav aria-label="6. Deploying the Application" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#61-first-time-setup">
<span class="md-ellipsis">
      
        6.1 First-Time Setup
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#62-starting-in-background-mode">
<span class="md-ellipsis">
      
        6.2 Starting in Background Mode
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#63-accessing-the-services">
<span class="md-ellipsis">
      
        6.3 Accessing the Services
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#7-stopping-and-managing-the-application">
<span class="md-ellipsis">
      
        7. Stopping and Managing the Application
      
    </span>
</a>
<nav aria-label="7. Stopping and Managing the Application" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#71-stop-the-application-keep-data">
<span class="md-ellipsis">
      
        7.1 Stop the Application (Keep Data)
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#72-stop-and-remove-all-data">
<span class="md-ellipsis">
      
        7.2 Stop and Remove All Data
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#73-view-running-containers">
<span class="md-ellipsis">
      
        7.3 View Running Containers
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#74-view-logs">
<span class="md-ellipsis">
      
        7.4 View Logs
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#75-restart-a-single-service">
<span class="md-ellipsis">
      
        7.5 Restart a Single Service
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#8-troubleshooting">
<span class="md-ellipsis">
      
        8. Troubleshooting
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#9-security-notes-for-production">
<span class="md-ellipsis">
      
        9. Security Notes for Production
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#10-quick-reference-card">
<span class="md-ellipsis">
      
        10. Quick Reference Card
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#11-technical-reference-dockerfile-internals">
<span class="md-ellipsis">
      
        11. Technical Reference — Dockerfile Internals
      
    </span>
</a>
<nav aria-label="11. Technical Reference — Dockerfile Internals" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#111-frontend-dockerfile-frontendjengadockerfilecurrent">
<span class="md-ellipsis">
      
        11.1 Frontend Dockerfile (frontend/jenga/Dockerfile.current)
      
    </span>
</a>
<nav aria-label="11.1 Frontend Dockerfile (frontend/jenga/Dockerfile.current)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#stage-1-build-nodejs-20-alpine">
<span class="md-ellipsis">
      
        Stage 1 — Build (Node.js 20 Alpine)
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#stage-2-runtime-nginx-127-alpine">
<span class="md-ellipsis">
      
        Stage 2 — Runtime (nginx 1.27 Alpine)
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#key-design-points">
<span class="md-ellipsis">
      
        Key Design Points
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#112-backend-dockerfile-backenddockerfiledev">
<span class="md-ellipsis">
      
        11.2 Backend Dockerfile (backend/Dockerfile.dev)
      
    </span>
</a>
<nav aria-label="11.2 Backend Dockerfile (backend/Dockerfile.dev)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#stage-1-build-maven-39-eclipse-temurin-jdk-21">
<span class="md-ellipsis">
      
        Stage 1 — Build (Maven 3.9 + Eclipse Temurin JDK 21)
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#stage-2-runtime-eclipse-temurin-jre-21">
<span class="md-ellipsis">
      
        Stage 2 — Runtime (Eclipse Temurin JRE 21)
      
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#key-design-points_1">
<span class="md-ellipsis">
      
        Key Design Points
      
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/Jenga-PMS/Jenga-PMS.github.io/blob/main/docs/Deployment/Deployment_Guide.md" rel="edit" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg>
</a>
<a class="md-content__button md-icon" href="https://github.com/Jenga-PMS/Jenga-PMS.github.io/raw/main/docs/Deployment/Deployment_Guide.md" title="View source of this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"></path></svg>
</a>
<h1 id="jenga-application-deployment-guide">Jenga Application — Deployment Guide</h1>
<p><strong>Who is this guide for?</strong><br/>
This document is designed for anyone who needs to deploy the Jenga application — even if you have little or no experience with Docker or server infrastructure. It walks you through every prerequisite, every configuration file, and every command you need to get the system running from scratch.</p>
<hr/>
<h2 id="1-what-does-this-system-do">1. What Does This System Do?</h2>
<p>The Jenga application is made up of five separate services that work together. When you start the system using Docker Compose, all five services are launched, configured, and connected automatically. You do not need to install or configure each service individually.</p>
<table>
<thead>
<tr>
<th>Service</th>
<th>Description</th>
<th>Port</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Frontend</strong></td>
<td>The web interface users interact with in their browser. Built as a web application.</td>
<td><code>7000</code> → http://localhost:7000</td>
<td>Serves the user-facing UI and routes API requests to the backend.</td>
</tr>
<tr>
<td><strong>Backend</strong></td>
<td>The application server that processes business logic, handles requests from the frontend, and communicates with the database.</td>
<td><code>8080</code> → http://localhost:8080</td>
<td>Core application logic, REST API, JWT authentication.</td>
</tr>
<tr>
<td><strong>Database (db)</strong></td>
<td>A PostgreSQL 17 database that stores all application data permanently.</td>
<td><code>5432</code> → Database connection port</td>
<td>Persistent storage for all application data.</td>
</tr>
<tr>
<td><strong>pgAdmin</strong></td>
<td>A web-based graphical tool for browsing and managing the PostgreSQL database.</td>
<td><code>8888</code> → http://localhost:8888</td>
<td>Database administration and inspection (optional, but useful).</td>
</tr>
<tr>
<td><strong>JWT Key Generator</strong></td>
<td>A one-time utility that generates cryptographic keys used for secure login tokens. Runs once at startup and then exits.</td>
<td>None (internal only)</td>
<td>Generates RSA private/public key pair for JWT authentication.</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>ℹ️ INFO:</strong> All services communicate with each other over an internal Docker network called <code>jenga-network</code>. You do not need to configure any of this manually.</p>
</blockquote>
<hr/>
<h2 id="2-prerequisites">2. Prerequisites</h2>
<p>Before you can deploy this application, you need to install the following tools on your machine.</p>
<h3 id="21-docker-desktop">2.1 Docker Desktop</h3>
<p><strong>What it is:</strong> Docker is a platform that packages applications into "containers" — isolated, self-contained environments. Docker Desktop is the easiest way to install Docker on Windows or macOS.</p>
<ul>
<li><strong>Download:</strong> https://www.docker.com/products/docker-desktop</li>
<li><strong>Minimum version:</strong> Docker 24.x or newer</li>
<li><strong>Includes:</strong> Docker Engine and Docker Compose (both are required)</li>
</ul>
<blockquote>
<p><strong>⚠️ WINDOWS — WSL 2 vs Hyper-V:</strong><br/>
Docker Desktop on Windows supports two backends: <strong>WSL 2</strong> (recommended) and <strong>Hyper-V</strong>. You will be prompted to choose during installation.</p>
<ul>
<li>On <strong>Windows 10/11 Home</strong>, only the WSL 2 backend is available — it is effectively required.</li>
<li>On <strong>Windows 10/11 Pro or Enterprise</strong>, both WSL 2 and Hyper-V are available. WSL 2 is still the recommended default.</li>
<li>If you use WSL 2, you need <strong>WSL version 2.1.5 or later</strong>. The Docker installer will guide you through enabling and updating WSL 2.</li>
</ul>
<p><strong>macOS with Apple Silicon (M1/M2/M3):</strong> Choose the Apple Silicon installer from the Docker website for native performance.</p>
</blockquote>
<h3 id="22-git-optional-but-recommended">2.2 Git (Optional but Recommended)</h3>
<p><strong>What it is:</strong> Git is a version control tool used to download the source code. If you already have the project files, you can skip this.</p>
<ul>
<li><strong>Download:</strong> https://git-scm.com/downloads</li>
</ul>
<h3 id="23-a-text-editor">2.3 A Text Editor</h3>
<p>You will need to edit one configuration file (the backend <code>.env</code> file) before deployment.</p>
<ul>
<li><strong>Windows:</strong> Notepad, Notepad++, or Visual Studio Code</li>
<li><strong>macOS:</strong> TextEdit (in plain text mode), or Visual Studio Code</li>
<li><strong>Recommended:</strong> Visual Studio Code — https://code.visualstudio.com</li>
</ul>
<h3 id="24-terminal-command-prompt">2.4 Terminal / Command Prompt</h3>
<p>You will run a few commands to start and stop the application.</p>
<ul>
<li><strong>Windows:</strong> Use "Command Prompt", "PowerShell", or "Windows Terminal"</li>
<li><strong>macOS / Linux:</strong> Use the built-in "Terminal" application</li>
</ul>
<hr/>
<h2 id="3-required-project-file-structure">3. Required Project File Structure</h2>
<p>The Docker Compose file expects the following folder and file structure. This must be present before you run the deployment command.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code>your-project-folder/
  ├── docker-compose.yml          ← The main file (provided)
  ├── init-dbs.sql                ← Database initialization script
  ├── backend/
  │   ├── Dockerfile.dev          ← Backend build instructions
  │   └── .env                    ← ⚠️ YOU MUST CREATE/EDIT THIS FILE
  └── frontend/
      └── jenga/
          └── Dockerfile.current  ← Frontend build instructions
</code></pre></div></td></tr></table></div>
<blockquote>
<p><strong>⚠️ IMPORTANT:</strong> The file <code>backend/.env</code> is required but is intentionally not included in source code repositories for security reasons. You must create it yourself. Section 4 explains exactly what to put in it.</p>
</blockquote>
<hr/>
<h2 id="4-configuring-the-backend-environment-file">4. Configuring the Backend Environment File</h2>
<p>The backend service reads its configuration from a file called <code>.env</code> located in the <code>backend/</code> folder. This file contains sensitive information such as API keys and is never committed to version control.</p>
<p><strong>Step 1:</strong> Navigate to the <code>backend/</code> folder in your project.<br/>
<strong>Step 2:</strong> Create a new file named <code>.env</code> (the filename starts with a dot and has no extension).<br/>
<strong>Step 3:</strong> Copy the template below into the file and fill in the values.</p>
<h3 id="41-environment-file-template">4.1 Environment File Template</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code># =============================================
# Jenga Backend — Environment Configuration
# =============================================

DB_USERNAME=username
DB_PASSWORD=password
DB_HOST=hostname
DB_PORT=5432
DB_NAME=db_name
QUARKUS_LANGCHAIN4J_AI_GEMINI_API_KEY=your_gemini_api_key_here
GOOGLE_API_KEY=your_google_api_key_here
GOOGLE_CSE_ID=your_custom_search_engine_key_here
</code></pre></div></td></tr></table></div>
<blockquote>
<p><strong>ℹ️ INFO:</strong> The database credentials (username, password, JDBC URL) and JWT key paths are already set directly in <code>docker-compose.yml</code>. Set them <strong>either</strong> in the <code>.env</code> file or in the <code>docker-compose.yml</code>. The <code>.env</code> file is mainly for API keys and other secrets not defined in the compose file.</p>
</blockquote>
<h3 id="42-environment-variable-reference">4.2 Environment Variable Reference</h3>
<table>
<thead>
<tr>
<th>Variable</th>
<th>Default / Example</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QUARKUS_DATASOURCE_JDBC_URL</code></td>
<td>Set in compose</td>
<td>Yes</td>
<td>PostgreSQL connection string — already set in docker-compose.yml</td>
</tr>
<tr>
<td><code>QUARKUS_DATASOURCE_USERNAME</code></td>
<td><code>postgres</code></td>
<td>Yes</td>
<td>DB username — already set in compose</td>
</tr>
<tr>
<td><code>QUARKUS_DATASOURCE_PASSWORD</code></td>
<td><code>dbpassword</code></td>
<td>Yes</td>
<td>DB password — already set in compose</td>
</tr>
<tr>
<td><code>SMALLRYE_JWT_SIGN_KEY_LOCATION</code></td>
<td><code>file:/keys/privateKey.pem</code></td>
<td>Yes</td>
<td>JWT signing key — auto-generated at startup</td>
</tr>
<tr>
<td><code>MP_JWT_VERIFY_PUBLICKEY_LOCATION</code></td>
<td><code>file:/keys/publicKey.pem</code></td>
<td>Yes</td>
<td>JWT verification key — auto-generated at startup</td>
</tr>
<tr>
<td><code>GEMINI_API_KEY</code></td>
<td><code>...</code></td>
<td>Yes</td>
<td>Add for AI features which depend on connection to LLM</td>
</tr>
</tbody>
</table>
<hr/>
<h2 id="5-database-initialization">5. Database Initialization</h2>
<p>The database service is configured to automatically run the file <code>init-dbs.sql</code> when it first starts. This file typically creates the required database schemas, tables, and initial data.</p>
<blockquote>
<p><strong>⚠️ IMPORTANT:</strong> This SQL file must exist at the root of your project folder. If it is missing, the database container will start but may not have the correct schema, causing the backend to fail.</p>
</blockquote>
<p>The initialization script only runs <strong>once</strong> — on the very first startup when the database volume is empty. If you need to re-run it, you must delete the database volume (see Section 8: Troubleshooting).</p>
<hr/>
<h2 id="6-deploying-the-application">6. Deploying the Application</h2>
<blockquote>
<p><strong>ℹ️ NO MANUAL DEPENDENCY INSTALLATION NEEDED:</strong><br/>
You do <strong>not</strong> need to run <code>npm install</code> for the frontend or any Maven commands for the backend. The Docker build handles all dependency installation automatically inside the containers when you run <code>docker compose up --build</code>. The only tools you need on your own machine are Docker Desktop and a text editor.</p>
</blockquote>
<h3 id="61-first-time-setup">6.1 First-Time Setup</h3>
<ol>
<li>
<p><strong>Open your terminal</strong> and navigate to the root of the project folder:
   <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="nb">cd</span><span class="w"> </span>/path/to/your-project-folder
</code></pre></div></td></tr></table></div></p>
</li>
<li>
<p><strong>Verify Docker is running</strong> by checking its version:
   <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>docker<span class="w"> </span>--version
</code></pre></div></td></tr></table></div>
   You should see output like: <code>Docker version 25.0.0, build xxxxxxx</code></p>
</li>
<li>
<p><strong>Create the backend <code>.env</code> file</strong> as described in Section 4.</p>
</li>
<li>
<p><strong>Confirm the <code>init-dbs.sql</code> file</strong> exists in the project root folder.</p>
</li>
<li>
<p><strong>Start the application:</strong>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>up<span class="w"> </span>--build
</code></pre></div></td></tr></table></div></p>
</li>
</ol>
<p>This command will:
- Download any required base images from Docker Hub
- Build the frontend and backend containers from source
- Generate the JWT cryptographic keys
- Start the PostgreSQL database and run the initialization SQL
- Start the backend server (waits for DB to be healthy)
- Start the frontend (waits for backend to be healthy)</p>
<blockquote>
<p><strong>⏱️ WAIT:</strong> The first build can take 5–15 minutes depending on your internet connection and machine speed. Subsequent startups are much faster (1–2 minutes) because layers are cached.</p>
</blockquote>
<h3 id="62-starting-in-background-mode">6.2 Starting in Background Mode</h3>
<p>To run the application in the background (so you can close the terminal), add the <code>-d</code> flag:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>up<span class="w"> </span>--build<span class="w"> </span>-d
</code></pre></div></td></tr></table></div>
<h3 id="63-accessing-the-services">6.3 Accessing the Services</h3>
<table>
<thead>
<tr>
<th>Service</th>
<th>URL</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Frontend</strong></td>
<td>http://localhost:7000</td>
<td>Main application UI</td>
</tr>
<tr>
<td><strong>Backend API</strong></td>
<td>http://localhost:8080</td>
<td>Direct API access (for developers)</td>
</tr>
<tr>
<td><strong>Backend API Documentation</strong></td>
<td>http://localhost:8080/swagger</td>
<td>API Endpoint Documentation</td>
</tr>
<tr>
<td><strong>pgAdmin</strong></td>
<td>http://localhost:8888</td>
<td>DB admin UI — login: <code>admin@admin.com</code> / <code>geheim</code></td>
</tr>
<tr>
<td><strong>PostgreSQL DB</strong></td>
<td><code>localhost:5432</code></td>
<td>Direct DB port</td>
</tr>
</tbody>
</table>
<hr/>
<h2 id="7-stopping-and-managing-the-application">7. Stopping and Managing the Application</h2>
<h3 id="71-stop-the-application-keep-data">7.1 Stop the Application (Keep Data)</h3>
<p>Stops all running containers but keeps all database data intact.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>down
</code></pre></div></td></tr></table></div>
<h3 id="72-stop-and-remove-all-data">7.2 Stop and Remove All Data</h3>
<blockquote>
<p><strong>⚠️ WARNING:</strong> The command below will permanently delete all database data, uploaded files, and generated keys. Only use this if you want a completely clean reset.</p>
</blockquote>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>down<span class="w"> </span>-v
</code></pre></div></td></tr></table></div>
<h3 id="73-view-running-containers">7.3 View Running Containers</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>docker<span class="w"> </span>ps
</code></pre></div></td></tr></table></div>
<h3 id="74-view-logs">7.4 View Logs</h3>
<p>All services:
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>logs<span class="w"> </span>-f
</code></pre></div></td></tr></table></div></p>
<p>One specific service (e.g., backend):
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>logs<span class="w"> </span>-f<span class="w"> </span>backend
</code></pre></div></td></tr></table></div></p>
<h3 id="75-restart-a-single-service">7.5 Restart a Single Service</h3>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>restart<span class="w"> </span>backend
</code></pre></div></td></tr></table></div>
<hr/>
<h2 id="8-troubleshooting">8. Troubleshooting</h2>
<p><strong>Problem: The application is slow to start or times out</strong><br/>
The backend performs a health check every 10 seconds and retries up to 5 times, with a 30-second initial wait. Try waiting a few more minutes, or run <code>docker compose logs backend</code> to see if there are errors.</p>
<hr/>
<p><strong>Problem: Port already in use</strong><br/>
If you see <code>port 8080 is already allocated</code>, another application is using that port. Either stop that application, or edit the port mapping in <code>docker-compose.yml</code>. For example, change <code>"8080:8080"</code> to <code>"8081:8080"</code> to expose the backend on port 8081 instead.</p>
<hr/>
<p><strong>Problem: Database not initialized / tables missing</strong><br/>
This usually means <code>init-dbs.sql</code> was missing when the database first started, or the database volume already existed from a previous run. Solution: delete the volume and restart.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>down<span class="w"> </span>-v
docker<span class="w"> </span>compose<span class="w"> </span>up<span class="w"> </span>--build
</code></pre></div></td></tr></table></div>
<hr/>
<p><strong>Problem: JWT keys not found by backend</strong><br/>
The backend depends on <code>jwt-keygen</code> completing successfully. Run <code>docker compose logs jwt-keygen</code> to check. If it failed, check your relative paths to the keys and do a full clean restart:</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>down<span class="w"> </span>-v<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>docker<span class="w"> </span>compose<span class="w"> </span>up<span class="w"> </span>--build
</code></pre></div></td></tr></table></div>
<hr/>
<p><strong>Problem: Cannot log into pgAdmin</strong><br/>
Default credentials: Email <code>admin@admin.com</code>, Password <code>geheim</code>. These are set in <code>docker-compose.yml</code>.</p>
<hr/>
<p><strong>Problem: <code>docker compose</code> command not found</strong><br/>
Older Docker versions use a hyphen: <code>docker-compose up --build</code>.</p>
<hr/>
<h2 id="9-security-notes-for-production">9. Security Notes for Production</h2>
<blockquote>
<p><strong>⚠️ WARNING:</strong> This configuration includes default passwords and is designed for development. Before deploying to a production environment accessible from the internet, the following items must be changed.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Current Default Value</th>
<th>Action Required</th>
</tr>
</thead>
<tbody>
<tr>
<td>PostgreSQL Password</td>
<td><code>dbpassword</code></td>
<td>Use a strong, unique password</td>
</tr>
<tr>
<td>pgAdmin Password</td>
<td><code>geheim</code></td>
<td>Use a strong, unique password</td>
</tr>
<tr>
<td>pgAdmin Email</td>
<td><code>admin@admin.com</code></td>
<td>Use a real admin email address</td>
</tr>
<tr>
<td>DB Port (5432) exposed</td>
<td><code>ports: 5432:5432</code></td>
<td>Remove the ports mapping for DB in production</td>
</tr>
</tbody>
</table>
<hr/>
<h2 id="10-quick-reference-card">10. Quick Reference Card</h2>
<table>
<thead>
<tr>
<th>Command</th>
<th>What It Does</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>docker compose up --build</code></td>
<td>Build images and start all services (first time)</td>
</tr>
<tr>
<td><code>docker compose up --build -d</code></td>
<td>Start in background (detached mode)</td>
</tr>
<tr>
<td><code>docker compose down</code></td>
<td>Stop all services, keep data</td>
</tr>
<tr>
<td><code>docker compose down -v</code></td>
<td>Stop all services, <strong>DELETE all data</strong></td>
</tr>
<tr>
<td><code>docker compose logs -f</code></td>
<td>Watch live logs from all services</td>
</tr>
<tr>
<td><code>docker compose logs -f backend</code></td>
<td>Watch live logs from backend only</td>
</tr>
<tr>
<td><code>docker compose ps</code></td>
<td>Show status of all containers</td>
</tr>
<tr>
<td><code>docker compose restart backend</code></td>
<td>Restart the backend service only</td>
</tr>
<tr>
<td><code>docker compose pull</code></td>
<td>Download latest base images</td>
</tr>
<tr>
<td><code>docker system prune</code></td>
<td>Remove all stopped containers, all networks not used by at least one container, all dangling images and unused build cache</td>
</tr>
</tbody>
</table>
<hr/>
<h2 id="11-technical-reference-dockerfile-internals">11. Technical Reference — Dockerfile Internals</h2>
<p>This section documents how the frontend and backend container images are built. It is intended for developers or operators who need to understand, debug, or modify the build process.</p>
<hr/>
<h3 id="111-frontend-dockerfile-frontendjengadockerfilecurrent">11.1 Frontend Dockerfile (<code>frontend/jenga/Dockerfile.current</code>)</h3>
<p>The frontend uses a <strong>multi-stage build</strong> — a Docker technique that separates the build environment from the final runtime image. This results in a much smaller and more secure final image, because build tools like Node.js are not included in what gets deployed.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c"># ============================</span>
<span class="c"># Build stage</span>
<span class="c"># ============================</span>
<span class="k">ARG</span><span class="w"> </span><span class="nv">NODE_VERSION</span><span class="o">=</span><span class="m">20</span>
<span class="k">FROM</span><span class="w"> </span><span class="s">node:${NODE_VERSION}-alpine</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">build</span>

<span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span>

<span class="k">COPY</span><span class="w"> </span>package*.json<span class="w"> </span>./
<span class="k">RUN</span><span class="w"> </span>npm<span class="w"> </span>ci

<span class="k">COPY</span><span class="w"> </span>.<span class="w"> </span>.

<span class="k">RUN</span><span class="w"> </span>mkdir<span class="w"> </span>-p<span class="w"> </span>src/api
<span class="k">RUN</span><span class="w"> </span>npm<span class="w"> </span>run<span class="w"> </span>gen:api
<span class="k">RUN</span><span class="w"> </span>npm<span class="w"> </span>run<span class="w"> </span>build

<span class="c"># ============================</span>
<span class="c"># Runtime stage</span>
<span class="c"># ============================</span>
<span class="k">FROM</span><span class="w"> </span><span class="s">nginx:1.27-alpine</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">runtime</span>

<span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span>
<span class="k">COPY</span><span class="w"> </span>--from<span class="o">=</span>build<span class="w"> </span>/app/dist<span class="w"> </span>/usr/share/nginx/html
<span class="k">COPY</span><span class="w"> </span>nginx/default.conf.template<span class="w"> </span>/etc/nginx/templates/default.conf.template

<span class="k">ENV</span><span class="w"> </span><span class="nv">API_UPSTREAM</span><span class="o">=</span>http://backend:8080

<span class="k">EXPOSE</span><span class="w"> </span><span class="s">80</span>
<span class="k">CMD</span><span class="w"> </span><span class="p">[</span><span class="s2">"nginx"</span><span class="p">,</span><span class="w"> </span><span class="s2">"-g"</span><span class="p">,</span><span class="w"> </span><span class="s2">"daemon off;"</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
<h4 id="stage-1-build-nodejs-20-alpine">Stage 1 — Build (Node.js 20 Alpine)</h4>
<table>
<thead>
<tr>
<th>Step</th>
<th>What it does</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>FROM node:20-alpine AS build</code></td>
<td>Starts from a minimal Node.js 20 image. Alpine Linux is used to keep the image size small. The version is parameterized via <code>ARG NODE_VERSION=20</code> so it can be overridden at build time.</td>
</tr>
<tr>
<td><code>WORKDIR /app</code></td>
<td>Sets the working directory inside the container to <code>/app</code>. All subsequent commands run from here.</td>
</tr>
<tr>
<td><code>COPY package*.json ./</code> + <code>RUN npm ci</code></td>
<td>Copies only the dependency manifests first, then installs them. This is a <strong>Docker layer caching optimization</strong>: if <code>package.json</code> hasn't changed, Docker reuses the cached <code>node_modules</code> layer and skips re-downloading on every rebuild. <code>npm ci</code> (clean install) is used instead of <code>npm install</code> for reproducible, deterministic installs.</td>
</tr>
<tr>
<td><code>COPY . .</code></td>
<td>Copies the rest of the source code into the container. Done after dependency install to maximize cache reuse.</td>
</tr>
<tr>
<td><code>RUN mkdir -p src/api</code></td>
<td>Ensures the output directory for the API client exists before generation runs.</td>
</tr>
<tr>
<td><code>RUN npm run gen:api</code></td>
<td>Runs an OpenAPI client code generation step. This auto-generates TypeScript API client code from the backend's OpenAPI specification, keeping the frontend type-safe and in sync with the backend's API contract.</td>
</tr>
<tr>
<td><code>RUN npm run build</code></td>
<td>Compiles and bundles the frontend application into static files (HTML, CSS, JS) in the <code>/app/dist</code> directory.</td>
</tr>
</tbody>
</table>
<h4 id="stage-2-runtime-nginx-127-alpine">Stage 2 — Runtime (nginx 1.27 Alpine)</h4>
<table>
<thead>
<tr>
<th>Step</th>
<th>What it does</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>FROM nginx:1.27-alpine AS runtime</code></td>
<td>Starts a fresh, minimal Nginx web server image. Nothing from the build stage (Node.js, source code, <code>node_modules</code>) is carried over — only the compiled output.</td>
</tr>
<tr>
<td><code>COPY --from=build /app/dist /usr/share/nginx/html</code></td>
<td>Copies only the compiled static files from the build stage into Nginx's default web root.</td>
</tr>
<tr>
<td><code>COPY nginx/default.conf.template ...</code></td>
<td>Copies a templated Nginx configuration file. Nginx processes this template at startup and substitutes environment variables (like <code>API_UPSTREAM</code>) into the final config.</td>
</tr>
<tr>
<td><code>ENV API_UPSTREAM=http://backend:8080</code></td>
<td>Sets the default upstream backend URL. This is the address Nginx will proxy API requests to. Overridden in <code>docker-compose.yml</code> via the <code>environment</code> block of the frontend service.</td>
</tr>
<tr>
<td><code>EXPOSE 80</code></td>
<td>Documents that the container listens on port 80. The Docker Compose file maps this to port <code>7000</code> on your host machine.</td>
</tr>
<tr>
<td><code>CMD ["nginx", "-g", "daemon off;"]</code></td>
<td>Starts Nginx in the foreground. The <code>daemon off</code> flag is required in Docker containers — without it, Nginx would fork into the background, causing the container to immediately exit.</td>
</tr>
</tbody>
</table>
<h4 id="key-design-points">Key Design Points</h4>
<ul>
<li><strong>Two-stage build</strong> keeps the final image lean — no Node.js, no source code, no build tooling ships to production.</li>
<li><strong>API code generation</strong> (<code>gen:api</code>) means the frontend's API client is always regenerated from the backend's OpenAPI spec during every build, preventing stale or mismatched interfaces.</li>
<li><strong>Nginx environment variable templating</strong> allows the backend URL to be configured at runtime without rebuilding the image, making it portable across environments (dev, staging, production).</li>
</ul>
<hr/>
<h3 id="112-backend-dockerfile-backenddockerfiledev">11.2 Backend Dockerfile (<code>backend/Dockerfile.dev</code>)</h3>
<p>The backend also uses a <strong>multi-stage build</strong>, separating the Maven/Java build environment from a lean JRE-only runtime. The application is a <strong>Quarkus</strong> framework application packaged as an uber-jar — a single self-contained <code>.jar</code> file with all dependencies bundled inside.</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span>
<span class="normal">13</span>
<span class="normal">14</span>
<span class="normal">15</span>
<span class="normal">16</span>
<span class="normal">17</span>
<span class="normal">18</span>
<span class="normal">19</span>
<span class="normal">20</span>
<span class="normal">21</span>
<span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="c"># ===== STAGE 1: Build =====</span>
<span class="k">FROM</span><span class="w"> </span><span class="s">maven:3.9-eclipse-temurin-21</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">build</span>
<span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span>

<span class="k">COPY</span><span class="w"> </span>mvnw<span class="w"> </span>pom.xml<span class="w"> </span>./
<span class="k">COPY</span><span class="w"> </span>.mvn/wrapper/<span class="w"> </span>.mvn/wrapper/
<span class="k">ENV</span><span class="w"> </span><span class="nv">MAVEN_CONFIG</span><span class="o">=</span><span class="s2">""</span>
<span class="k">ENV</span><span class="w"> </span><span class="nv">MAVEN_OPTS</span><span class="o">=</span><span class="s2">"-Dmaven.repo.local=/app/.m2"</span>

<span class="k">RUN</span><span class="w"> </span>mvn<span class="w"> </span>dependency:go-offline

<span class="k">COPY</span><span class="w"> </span>.<span class="w"> </span>.

<span class="k">RUN</span><span class="w"> </span>./mvnw<span class="w"> </span>-Dmaven.repo.local<span class="o">=</span>/root/.m2<span class="w"> </span>package<span class="w"> </span>-DskipTests<span class="w"> </span>-Dquarkus.package.type<span class="o">=</span>uber-jar


<span class="c"># ===== STAGE 2: Runtime =====</span>
<span class="k">FROM</span><span class="w"> </span><span class="s">eclipse-temurin:21-jre</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">runtime</span>
<span class="k">WORKDIR</span><span class="w"> </span><span class="s">/app</span>

<span class="k">COPY</span><span class="w"> </span>--from<span class="o">=</span>build<span class="w"> </span>/app/target/*-runner.jar<span class="w"> </span>app.jar

<span class="k">EXPOSE</span><span class="w"> </span><span class="s">8080 5005</span>

<span class="k">ENTRYPOINT</span><span class="w"> </span><span class="p">[</span><span class="s2">"java"</span><span class="p">,</span><span class="w"> </span><span class="s2">"-Dquarkus.http.host=0.0.0.0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"-Dquarkus.mcp.server.stdio.enabled=false"</span><span class="p">,</span><span class="w"> </span><span class="s2">"-jar"</span><span class="p">,</span><span class="w"> </span><span class="s2">"app.jar"</span><span class="p">]</span>
</code></pre></div></td></tr></table></div>
<h4 id="stage-1-build-maven-39-eclipse-temurin-jdk-21">Stage 1 — Build (Maven 3.9 + Eclipse Temurin JDK 21)</h4>
<table>
<thead>
<tr>
<th>Step</th>
<th>What it does</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>FROM maven:3.9-eclipse-temurin-21 AS build</code></td>
<td>Starts from an official Maven image that bundles Maven 3.9 and Eclipse Temurin JDK 21. Eclipse Temurin is a production-grade, open-source distribution of OpenJDK.</td>
</tr>
<tr>
<td><code>COPY mvnw pom.xml ./</code> + <code>COPY .mvn/wrapper/ ...</code></td>
<td>Copies only the Maven wrapper and <code>pom.xml</code> before the source code — same layer caching strategy as the frontend: if <code>pom.xml</code> doesn't change, the dependency download step is reused from cache on the next build.</td>
</tr>
<tr>
<td><code>ENV MAVEN_CONFIG=""</code></td>
<td>Clears any inherited Maven configuration that might interfere with the containerized build.</td>
</tr>
<tr>
<td><code>ENV MAVEN_OPTS="-Dmaven.repo.local=/app/.m2"</code></td>
<td>Tells Maven to store downloaded dependencies in <code>/app/.m2</code> inside the container, making the location explicit and Docker-layer-cacheable.</td>
</tr>
<tr>
<td><code>RUN mvn dependency:go-offline</code></td>
<td><strong>Dependency pre-fetching</strong>: downloads all project dependencies declared in <code>pom.xml</code> without compiling the application. This is the most important build performance optimization — if <code>pom.xml</code> is unchanged on the next rebuild, Docker reuses this cached layer and skips all network downloads entirely.</td>
</tr>
<tr>
<td><code>COPY . .</code></td>
<td>Copies the full source code after the dependency step to maximize cache hits.</td>
</tr>
<tr>
<td><code>RUN ./mvnw ... package -DskipTests -Dquarkus.package.type=uber-jar</code></td>
<td>Compiles the application and packages it as an <strong>uber-jar</strong>. <code>-DskipTests</code> skips unit tests during the Docker build for speed; tests should be run in a separate CI/CD step. Quarkus places the output in <code>/app/target/</code> with a <code>-runner.jar</code> suffix.</td>
</tr>
</tbody>
</table>
<h4 id="stage-2-runtime-eclipse-temurin-jre-21">Stage 2 — Runtime (Eclipse Temurin JRE 21)</h4>
<table>
<thead>
<tr>
<th>Step</th>
<th>What it does</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>FROM eclipse-temurin:21-jre AS runtime</code></td>
<td>Starts a fresh image with only the Java <strong>Runtime Environment</strong> (JRE) — not the full JDK. The JRE is sufficient to run compiled Java and is significantly smaller. No Maven, source code, or build tools are included.</td>
</tr>
<tr>
<td><code>COPY --from=build /app/target/*-runner.jar app.jar</code></td>
<td>Copies only the compiled uber-jar from the build stage. The wildcard <code>*-runner.jar</code> matches the Quarkus naming convention regardless of project artifact version.</td>
</tr>
<tr>
<td><code>EXPOSE 8080 5005</code></td>
<td>Documents that the container listens on port <code>8080</code> (HTTP API) and <code>5005</code> (Java remote debugging). Note: port <code>5005</code> is not mapped in <code>docker-compose.yml</code> by default — add a <code>ports</code> mapping to enable remote debugging.</td>
</tr>
<tr>
<td><code>ENTRYPOINT [...]</code></td>
<td>Launches the application with three JVM flags: <strong><code>-Dquarkus.http.host=0.0.0.0</code></strong> binds Quarkus to all network interfaces (essential for Docker — without this, the server only listens on <code>localhost</code> inside the container and is unreachable from the host or other containers); <strong><code>-Dquarkus.mcp.server.stdio.enabled=false</code></strong> disables a stdio-based MCP server that would otherwise block the container waiting for input and prevent it from starting; <strong><code>-jar app.jar</code></strong> runs the application.</td>
</tr>
</tbody>
</table>
<h4 id="key-design-points_1">Key Design Points</h4>
<ul>
<li><strong>Uber-jar packaging</strong> makes the runtime image dependency-free at the OS level — everything needed is inside the single JAR file.</li>
<li><strong>Dependency pre-fetching</strong> (<code>dependency:go-offline</code>) is the most impactful build speed optimization. Rebuilds after source-only changes avoid all Maven network I/O.</li>
<li><strong>JRE-only runtime</strong> keeps the production image small and reduces the attack surface (no compiler, no <code>javac</code>, no JDK diagnostic tools).</li>
<li><strong><code>0.0.0.0</code> host binding</strong> is essential — forgetting this flag is one of the most common mistakes when containerizing Java/Quarkus applications, resulting in a server that starts successfully but is completely unreachable.</li>
<li><strong>Port 5005 (remote debugging):</strong> To enable, add <code>"5005:5005"</code> to the backend's <code>ports</code> in <code>docker-compose.yml</code> and add <code>-agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005</code> to the <code>ENTRYPOINT</code> JVM flags.</li>
</ul>
<hr/>
<p><strong>this deployment guide is made by hangzhou with the help of claude sonnet 4.6. for further support feel free to reach out to our team</strong></p>
<aside class="md-source-file">
<span class="md-source-file__fact">
<span class="md-icon" title="Contributors">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33s1.71.11 2.5.33c1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2"></path></svg>
</span>
<span>GitHub</span>
<nav>
<a class="md-author" href="https://github.com/Aesof" title="@Aesof">
<img alt="Aesof" src="https://avatars.githubusercontent.com/u/36939841?v=4&amp;size=72"/>
</a>
</nav>
</span>
</aside>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: Build Frontend" class="md-footer__link md-footer__link--prev" href="../../installation/BuildFrontend/">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                Previous
              </span>
<div class="md-ellipsis">
                Build Frontend
              </div>
</div>
</a>
<a aria-label="Next: Overview" class="md-footer__link md-footer__link--next" href="../../architecture/">
<div class="md-footer__title">
<span class="md-footer__direction">
                Next
              </span>
<div class="md-ellipsis">
                Overview
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
<script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
<script>document$.subscribe(() => {
            const dark_scheme_name = "slate"
            
            window.scheme = document.body.getAttribute("data-md-color-scheme")
            const options = {
                attributeFilter: ['data-md-color-scheme'],
            };
            function color_scheme_callback(mutations) {
                for (let mutation of mutations) {
                    if (mutation.attributeName === "data-md-color-scheme") {
                        scheme = document.body.getAttribute("data-md-color-scheme")
                        var iframe_list = document.getElementsByClassName("redoc-iframe")
                        for(var i = 0; i < iframe_list.length; i++) {
                            var ele = iframe_list.item(i);
                            if (ele) {
                                if (scheme === dark_scheme_name) {
                                    ele.contentWindow.enable_dark_mode();
                                } else {
                                    ele.contentWindow.disable_dark_mode();
                                }
                            }
                        }
                    }
                }
            }
            observer = new MutationObserver(color_scheme_callback);
            observer.observe(document.body, options);
            })</script></body>
</html>